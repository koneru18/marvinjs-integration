(this["webpackJsonpmarvinjs-integration"]=this["webpackJsonpmarvinjs-integration"]||[]).push([[0],{33:function(e,t,n){e.exports=n(61)},38:function(e,t,n){},39:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(20),i=n.n(s),c=(n(38),n(39),n(4)),o=n.n(c),l=n(21),u=n(22),h=n(29),d=n(23),m=n(5),p=n(30),v=n(24),f=n(25),w=n(6),S=n.n(w);function g(e){return S.a.post("http://localhost:8081/jwsdb/rest-v1/db/additional/testExtendedTable/substructure",{hitCount:10,molecule:e,withFingerprintDistance:!0})}function b(e){return S.a.post("http://localhost:8081/jwsdb/rest-v1/db/additional/testExtendedTable/batchInsert",e)}function y(e){var t={inputParams:"mrv",outputParams:"smiles",structure:e};return S.a.post("http://localhost:8081/jwsio/rest-v1/molconvert",t,{headers:{"Content-Type":"application/json"}})}var x=n(28),E=(n(59),[{Header:"Name",accessor:"additionalData.name",headerStyle:{whiteSpace:"unset"},style:{whiteSpace:"unset"}},{Header:"Smiles structure",accessor:"molecule",headerStyle:{whiteSpace:"unset"},style:{whiteSpace:"unset"}},{Header:"Finger Print Distance",accessor:"additionalData.fingerprintDistance",headerStyle:{whiteSpace:"unset"},style:{whiteSpace:"unset"}}]),j=function(e,t){return r.a.createElement("div",{style:{width:650,display:"inline-block"}},r.a.createElement("div",{style:{borderBottom:"1px solid #888",marginTop:"10px",marginBottom:"10px"}},"Search results for ",t),r.a.createElement(x.a,{manual:!0,minRows:0,pageSize:1,data:e.data,columns:E,pages:0,showPagination:!0}))};function k(){var e=Object(v.a)(["\n  overflow: hidden;\n  min-width: 700px;\n  min-height: 450px;\n  border: 1px solid darkgray;\n"]);return k=function(){return e},e}var M=f.a.iframe(k()),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).saveMolecule=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,o.a.awrap(b(e));case 3:case"end":return t.stop()}}))},n.fetchSearchResults=function(){var e,t,a,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.awrap(n.getSmiles());case 2:return e=s.sent,s.next=5,o.a.awrap(g(e));case 5:for(t=s.sent,a=[],r=0;r<t.data.length;r++)a.push(t.data[r]);n.setState({searchResults:a});case 9:case"end":return s.stop()}}))},n.getSmiles=function(){var e,t,a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.state.marvinInstance,t=e.exportAsMrv(),r.next=4,o.a.awrap(y(t));case 4:return a=r.sent,n.setState({smiles:a.data}),r.abrupt("return",a.data);case 7:case"end":return r.stop()}}))},n.state={marvinInstance:{},smiles:"",searchResults:[]},n.getSmiles=n.getSmiles.bind(Object(m.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.initMarvinJS()}),1e3)}},{key:"initMarvinJS",value:function(){var e=this;window.MarvinJSUtil.getEditor("#sketchImg").then((function(t){console.log(t),e.setState({marvinInstance:t},e.setUpMarvinJS())})).catch((function(e){console.error("Fail during MarvinJs initilisation: ".concat(e))}))}},{key:"setUpMarvinJS",value:function(){this.state.marvinInstance}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,{id:"sketchImg",src:"marvinjs/editorws.html"}),r.a.createElement("button",{onClick:this.saveMolecule},"Save"),r.a.createElement("button",{onClick:this.fetchSearchResults},"Search"),this.state.searchResults.length>0&&r.a.createElement(j,{data:this.state.searchResults,smiles:this.state.smiles}))}}]),t}(a.Component);var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.5bd9232a.chunk.js.map